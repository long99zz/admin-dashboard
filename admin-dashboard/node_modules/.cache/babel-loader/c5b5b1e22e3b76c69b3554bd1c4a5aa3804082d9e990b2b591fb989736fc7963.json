{"ast":null,"code":"import React, { createContext, useEffect, useState } from \"react\";\nimport ArcPath from \"./ArcPath\";\nimport LegendItem from \"./LegendItem\";\nexport const DonutChartContext = /*#__PURE__*/createContext(undefined);\nconst DonutChart = _ref => {\n  let {\n    className = \"donutchart\",\n    clickToggle = true,\n    colorFunction = (colors, index) => colors[index % colors.length],\n    colors = [\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#607d8b\"],\n    data = [{\n      className: \"\",\n      label: \"\",\n      value: 100,\n      isEmpty: true\n    }],\n    emptyColor = \"#e0e0e0\",\n    emptyOffset = 0.08,\n    formatValues = (value, total) => Number.isNaN(value / total) ? \"--\" : `${(value / total * 100).toFixed(2)}%`,\n    height = 500,\n    interactive = true,\n    innerRadius = 0.7,\n    legend = true,\n    onMouseEnter = item => item,\n    onMouseLeave = item => item,\n    onClick = (item, toggled) => toggled ? item : null,\n    outerRadius = 0.9,\n    selectedOffset = 0.03,\n    strokeColor = \"#212121\",\n    toggledOffset = 0.04,\n    width = 750\n  } = _ref;\n  const [selected, setSelected] = useState(interactive ? data[0] : null);\n  const [toggleSelect, setToggleSelect] = useState(false);\n  useEffect(() => {\n    if (interactive) {\n      setSelected(data[0]);\n      setToggleSelect(false);\n    }\n  }, [interactive, data]);\n  const graphWidth = legend ? width * (2 / 3) : width;\n  const total = data.reduce((sum, _ref2) => {\n    let {\n      value\n    } = _ref2;\n    return sum + value;\n  }, 0);\n  const {\n    dataWithRenderProps\n  } = data.reduce((_ref3, item, index) => {\n    let {\n      angle,\n      dataWithRenderProps\n    } = _ref3;\n    const {\n      className,\n      isEmpty,\n      label,\n      value\n    } = item;\n    const isSelected = (selected === null || selected === void 0 ? void 0 : selected.label) === label;\n    const isToggled = isSelected && toggleSelect;\n    return {\n      angle: angle + value / total * 360,\n      dataWithRenderProps: [...dataWithRenderProps, {\n        angle,\n        index,\n        ...item,\n        classNames: `${className ?? \"\"} ${isEmpty ? \"empty\" : \"\"} ${isSelected ? \"selected\" : \"\"} ${isToggled ? \"toggled\" : \"\"}`.trim(),\n        fill: isEmpty ? emptyColor : colorFunction(colors, index),\n        opacity: isSelected && !toggleSelect ? 0.5 : 1,\n        stroke: isEmpty ? emptyColor : strokeColor,\n        clickHandlers: interactive ? {\n          onClick: () => {\n            if ((selected === null || selected === void 0 ? void 0 : selected.label) === label) {\n              const toggle = clickToggle ? !toggleSelect : false;\n              setSelected(item);\n              setToggleSelect(toggle);\n              onClick(item, toggle);\n            }\n          },\n          onMouseEnter: () => {\n            if (!toggleSelect) {\n              setSelected(item);\n              onMouseEnter(item);\n            }\n          },\n          onMouseLeave: () => {\n            if (!toggleSelect) {\n              onMouseLeave(item);\n            }\n          }\n        } : undefined\n      }],\n      total: total + value\n    };\n  }, {\n    angle: 0,\n    dataWithRenderProps: []\n  });\n  return /*#__PURE__*/React.createElement(DonutChartContext.Provider, {\n    value: {\n      className,\n      emptyOffset,\n      graphWidth,\n      innerRadius,\n      outerRadius,\n      selected,\n      selectedOffset,\n      toggledOffset,\n      toggleSelect,\n      total,\n      width\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: className,\n    style: {\n      height,\n      width\n    },\n    viewBox: `0 0 ${width} ${height}`\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-arcs`\n  }, dataWithRenderProps.map(item => /*#__PURE__*/React.createElement(ArcPath, {\n    item: item,\n    key: `arcpath${item.index}`\n  }))), selected && /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-innertext`\n  }, /*#__PURE__*/React.createElement(\"text\", {\n    className: `${className}-innertext-label`,\n    x: graphWidth / 2,\n    y: \"45%\",\n    textAnchor: \"middle\"\n  }, selected.label), /*#__PURE__*/React.createElement(\"text\", {\n    className: `${className}-innertext-value`,\n    x: graphWidth / 2,\n    y: \"60%\",\n    textAnchor: \"middle\"\n  }, formatValues(selected.value, total))), legend && /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-legend`\n  }, dataWithRenderProps.map(item => /*#__PURE__*/React.createElement(LegendItem, {\n    key: `legenditem${item.index}`,\n    item: item\n  })))));\n};\nexport default DonutChart;","map":{"version":3,"names":["React","createContext","useEffect","useState","ArcPath","LegendItem","DonutChartContext","undefined","DonutChart","_ref","className","clickToggle","colorFunction","colors","index","length","data","label","value","isEmpty","emptyColor","emptyOffset","formatValues","total","Number","isNaN","toFixed","height","interactive","innerRadius","legend","onMouseEnter","item","onMouseLeave","onClick","toggled","outerRadius","selectedOffset","strokeColor","toggledOffset","width","selected","setSelected","toggleSelect","setToggleSelect","graphWidth","reduce","sum","_ref2","dataWithRenderProps","_ref3","angle","isSelected","isToggled","classNames","trim","fill","opacity","stroke","clickHandlers","toggle","createElement","Provider","style","viewBox","map","key","x","y","textAnchor"],"sources":["E:/Project/admin-dashboard/node_modules/react-donut-chart/dist/DonutChart.js"],"sourcesContent":["import React,{createContext,useEffect,useState}from\"react\";import ArcPath from\"./ArcPath\";import LegendItem from\"./LegendItem\";export const DonutChartContext=/*#__PURE__*/createContext(undefined);const DonutChart=({className=\"donutchart\",clickToggle=true,colorFunction=(colors,index)=>colors[index%colors.length],colors=[\"#f44336\",\"#e91e63\",\"#9c27b0\",\"#673ab7\",\"#3f51b5\",\"#2196f3\",\"#03a9f4\",\"#00bcd4\",\"#009688\",\"#4caf50\",\"#8bc34a\",\"#cddc39\",\"#ffeb3b\",\"#ffc107\",\"#ff9800\",\"#ff5722\",\"#795548\",\"#607d8b\"],data=[{className:\"\",label:\"\",value:100,isEmpty:true}],emptyColor=\"#e0e0e0\",emptyOffset=0.08,formatValues=(value,total)=>Number.isNaN(value/total)?\"--\":`${(value/total*100).toFixed(2)}%`,height=500,interactive=true,innerRadius=0.7,legend=true,onMouseEnter=item=>item,onMouseLeave=item=>item,onClick=(item,toggled)=>toggled?item:null,outerRadius=0.9,selectedOffset=0.03,strokeColor=\"#212121\",toggledOffset=0.04,width=750})=>{const[selected,setSelected]=useState(interactive?data[0]:null);const[toggleSelect,setToggleSelect]=useState(false);useEffect(()=>{if(interactive){setSelected(data[0]);setToggleSelect(false)}},[interactive,data]);const graphWidth=legend?width*(2/3):width;const total=data.reduce((sum,{value})=>sum+value,0);const{dataWithRenderProps}=data.reduce(({angle,dataWithRenderProps},item,index)=>{const{className,isEmpty,label,value}=item;const isSelected=(selected===null||selected===void 0?void 0:selected.label)===label;const isToggled=isSelected&&toggleSelect;return{angle:angle+value/total*360,dataWithRenderProps:[...dataWithRenderProps,{angle,index,...item,classNames:`${className??\"\"} ${isEmpty?\"empty\":\"\"} ${isSelected?\"selected\":\"\"} ${isToggled?\"toggled\":\"\"}`.trim(),fill:isEmpty?emptyColor:colorFunction(colors,index),opacity:isSelected&&!toggleSelect?0.5:1,stroke:isEmpty?emptyColor:strokeColor,clickHandlers:interactive?{onClick:()=>{if((selected===null||selected===void 0?void 0:selected.label)===label){const toggle=clickToggle?!toggleSelect:false;setSelected(item);setToggleSelect(toggle);onClick(item,toggle)}},onMouseEnter:()=>{if(!toggleSelect){setSelected(item);onMouseEnter(item)}},onMouseLeave:()=>{if(!toggleSelect){onMouseLeave(item)}}}:undefined}],total:total+value}},{angle:0,dataWithRenderProps:[]});return/*#__PURE__*/React.createElement(DonutChartContext.Provider,{value:{className,emptyOffset,graphWidth,innerRadius,outerRadius,selected,selectedOffset,toggledOffset,toggleSelect,total,width}},/*#__PURE__*/React.createElement(\"svg\",{className:className,style:{height,width},viewBox:`0 0 ${width} ${height}`},/*#__PURE__*/React.createElement(\"g\",{className:`${className}-arcs`},dataWithRenderProps.map(item=>/*#__PURE__*/React.createElement(ArcPath,{item:item,key:`arcpath${item.index}`}))),selected&&/*#__PURE__*/React.createElement(\"g\",{className:`${className}-innertext`},/*#__PURE__*/React.createElement(\"text\",{className:`${className}-innertext-label`,x:graphWidth/2,y:\"45%\",textAnchor:\"middle\"},selected.label),/*#__PURE__*/React.createElement(\"text\",{className:`${className}-innertext-value`,x:graphWidth/2,y:\"60%\",textAnchor:\"middle\"},formatValues(selected.value,total))),legend&&/*#__PURE__*/React.createElement(\"g\",{className:`${className}-legend`},dataWithRenderProps.map(item=>/*#__PURE__*/React.createElement(LegendItem,{key:`legenditem${item.index}`,item:item})))))};export default DonutChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}